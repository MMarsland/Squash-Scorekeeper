<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <script src="script.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body onload="startApp();">
        <div id="mainWrapper">
            <div id="s8PhoneScreen">
                <div id="runningGameScreen">
                    <div id="exit">EXIT</div>
                    <div id="settings">Settings</div>
                    <div id="gameNum">Game #</div>
                    <div id="clockAreaCover" onclick="clockPlayPause()"></div>
                    <div id="matchScore">"0-0"</div>
                    <div id="matchTimeLabel">Match Time</div>
                    <div id="matchTime">0:00</div>
                    <div id="gameTimeLabel">Game Time</div>
                    <div id="gameTime">0:00</div>
                    <div id="divider"></div>
                    <div id="scoreHistory"></div>
                    
                    
                    
                    <div id="player1Side">
                        <div class="name" contenteditable="true" onclick="editPlayer1()">Michael</div>
                        <div class="score" onclick="scorePlayer1()">0</div>
                        <div class="letCall" onclick="letCallPlayer1()">Let Call</div>
                        <div class="other" onclick="letCallPlayer1()">Other</div>
                        <div class="serveIndicator"><div class="left-dot"></div><div class="right-dot"></div><div class="side">R</div></div>
                    </div>
                    <div id="player2Side">
                        <div class="name" onkeypress="return (this.innerText.length <= 7)" contenteditable="true" onclick="editPlayer2()">Mohamed</div>
                        <div class="score" onclick="scorePlayer2()">0</div>
                        <div class="letCall" onclick="letCallPlayer2()">Let Call</div>
                        <div class="other" onclick="letCallPlayer2()">Other</div>
                        <div class="serveIndicator"><div class="left-dot"></div><div class="right-dot"></div><div class="side">R</div></div>
                    </div>

                    <div id="speechRecognitionBox">"Point Michael"</div>
                    <div id="undoBox"></div>
                    <div id="undoText">Undo</div>
                    <div id="endMarker"></div>
                </div>
            </div>
        </div>

        <div class="my-bitmoji-stickerpicker-icon-target" />
        <script>
        window.snapKitInit = function () {
            // Argument 1
            var bitmojiWebPickerIconClass =
            'my-bitmoji-stickerpicker-icon-target';

            // Argument 2
            var uiOptions = {
            onStickerPickCallback:
                function onStickerPickCallback(bitmojiImgURL){
                console.log(bitmojiImgURL);
                },
            webpickerPosition: 'bottomRight',
            };

            // Argument 3
            var loginParamsObj = {
            clientId: 'your-clientId',
            redirectURI: 'your-redirectURI',
            scopeList: [ // the list of scopes you are approved for
            'user.bitmoji.avatar',
            'user.display_name',
            ],
            };

            // Mount Bitmoji Icon(s)
            snap.bitmojikit.mountBitmojiStickerPickerIcons(
            bitmojiWebPickerIconClass,
            uiOptions,
            loginParamsObj,
            );
        };

        // Load the SDK asynchronously
        (function (d, s, id) {
            var js, sjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://sdk.snapkit.com/js/v1/login_bitmoji.js";
            sjs.parentNode.insertBefore(js, sjs);
        }(document, 'script', 'bitmojikit-sdk'));




        var express = require('express'); // Will need to 'npm install express'
        var app = express();

        var clientId = 'my-assigned-client-id';
        var clientSecret = 'my-assigned-client-secret';
        var redirectUri = 'https://my-redirect-uri.com';
        var scopeList = ['https://auth.snapchat.com/oauth2/api/example.abc', 'https://auth.snapchat.com/oauth2/api/example.xyz'];

        app.get('/send-oauth-GET-request-step-two', function(req, res){
        // Generate query parameters
        var state = generateClientState();

        // Build redirect URL
        var getRedirectURL = getAuthCodeRedirectURL(clientId, redirectUri, scopeList, state);

        // Redirect user to get consent
        res.redirect(getRedirectURL);
        });

        app.listen(3000);
        </script>

        
    </body>

</html>